<!DOCTYPE html>
<html>
    <head>
        <title>Uniquedoc chat</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/UDTheme.css">
        <link rel="stylesheet" href="css/jquery.mobile.structure-1.3.2.min.css" /> 
        <link rel="stylesheet" href="css/style.css">   
        <link rel="stylesheet" href="css/common.css">
        <link rel="stylesheet" href="css/mobile.css">
        <script src="js/config.js"></script>
        <script type="text/javascript">

            $(document).bind("mobileinit", function() {

                $.mobile.defaultTransition = 'none';

            });

        </script>
    </head>

    <body id="body">

        <!-----------------------------------------------------------------------------------------------------------------------------login page------->
        <div data-role="page" id="loginPage" data-theme="d">
            <div data-role="content">
                <!-- <p class="login_logo"></p> -->
                <p>
                    <input data-corners="false" type="text" id="loginI" value=""/>
                    <input data-corners="false" type="password" id="passwordI" value=""/>
                    <button data-corners="false" onclick="commandLoginMainPage($('#loginI').val(), $('#passwordI').val());" id="loginButton" disabled="">Login</button>
                    <span id="connectionON">Network status...</span>                    
                </p>

            </div>
        </div>
        <!-----------------------------------------------------------------------------------------------------------------------------main page------->
        <div data-role="page" id="mainPage" data-theme="d">
            <div data-role="header" data-theme="d">
                <div class="header-menu">
                    <ul>
                        <li class="menu-a menu-enable" onclick="showMenu(main_menu)"><span class="icon-img icon-menu"></span></li>
                        <li class="menu-b menu-enable" onclick=""><span class="icon-img icon-chat"></span></li>
                        <li class="menu-c menu-disable" onclick=""><span class="icon-img icon-box"></span></li>
                        <li class="menu-d menu-disable" onclick=""><span class="icon-img icon-logo"></span></li>
                    </ul>
                </div>
                <h1 id="mainPageHeadT">Recent Conversations</h1>  
                <div class="header-status menu-enable">
                    <a id="statusLinkMainPage" onclick="showMenu(status_menu)"  data-icon="CHAT_STATUS_AVAILABLE" class="ui-CHAT_STATUS_AVAILABLE" ></a>
                 </div>
                <div class="header-backBtn menu-enable hidden">
                    <a id="chatBack" class="icon-img icon-back" onclick="onHideMoreContacts();"></a>
                </div>
            </div>

            <div data-role="content" data-theme="d">
                <div id="contactListElement"></div>
                <div id="chatListElement"></div>
                <!--<ul data-role="listview" id="chatListT">
                    <li class="ui-li ui-li-static ui-btn-up-c">test :message</li>
                </ul>-->

                <div data-role="popup" id="popupMenu"></div>
            </div>

            <div data-role="footer" data-position="fixed" data-theme="d" data-tap-toggle="false">
               <ul data-role="listview" id="showContactsBtn">
                   <li class="ui-li ui-li-static ui-btn-up-c" data-icon="false" onclick="onShowMoreContacts();"><a>Show Contacts</a></li>
               </ul>
            </div>
        </div>
        <!-----------------------------------------------------------------------------------------------------------------------------contact page------->
        <div data-role="page" id="manageGroupContactPage" data-theme="d">
            <div data-role="header" data-theme="d">
                <div class="header-menu">
                    <ul>
                        <li class="menu-a menu-enable" onclick="showMenu(main_menu)"><span class="icon-img icon-menu"></span></li>
                        <li class="menu-b menu-enable" onclick=""><span class="icon-img icon-chat"></span></li>
                        <li class="menu-c menu-disable" onclick=""><span class="icon-img icon-box"></span></li>
                        <li class="menu-d menu-disable" onclick=""><span class="icon-img icon-logo"></span></li>
                    </ul>
                </div>
                <h1 id="manageGroupContactT">Connections</h1>  
                <div class="header-status menu-enable">
                    <a id="statusLinkMainPage" onclick="showMenu(status_menu)"  data-icon="CHAT_STATUS_AVAILABLE" class="ui-CHAT_STATUS_AVAILABLE" ></a>
                 </div>
                <div class="header-backBtn menu-enable">
                    <a id="contactback" class="icon-img icon-back" onclick="onCancelManageGroupMembers();"></a>
                </div>
            </div>

            <div data-role="content">
                <ul id="contactList-selectedFriendT" data-role="listview" class="ui-listview">

                </ul>
                <ul data-role="listview" id="contactPageSmallMenu">
                    <li data-icon="false" class="manageGroupMembers">
                        <div data-type="horizontal" data-role="controlgroup" class="ui-btn-right">
                            <a onclick="onOkManageGroupMembers();" href=""><span class="manageGroupMembers_ok"></span></a>
                            <a onclick="onCancelManageGroupMembers();" href=""><span class="manageGroupMembers_cancel"></span></a>
                        </div>
                    </li>
                </ul>

                <ul data-role="listview" id="contactListT" data-filter="true" data-theme="d" data-filter-placeholder="search for connections"></ul>

                <div data-role="popup" id="popupMenu2"></div>
            </div>
        </div>
        <!-----------------------------------------------------------------------------------------------------------------------------chat page------->
        <div data-role="page" id="chatPageTemplate" data-theme="d">
            <div data-role="header" data-position="fixed" data-theme="d" data-tap-toggle="false">
                <div class="header-menu">
                    <ul>
                        <li class="menu-a menu-enable" onclick="showMenu(main_menu)"><span class="icon-img icon-menu"></span></li>
                        <li class="menu-b menu-enable" onclick=""><span class="icon-img icon-chat"></span></li>
                        <li class="menu-c menu-disable" onclick=""><span class="icon-img icon-box"></span></li>
                        <li class="menu-d menu-disable" onclick=""><span class="icon-img icon-logo"></span></li>
                    </ul>
                </div>
                <h1 id="chatPageTitle">Text chat</h1>  
                <div class="header-status menu-enable">
                    <a id="statusLinkMainPage" onclick="showMenu(status_menu)"  data-icon="CHAT_STATUS_AVAILABLE" class="ui-CHAT_STATUS_AVAILABLE" ></a>
                 </div>
                <div class="header-backBtn menu-enable">
                    <a id="chatBack" class="icon-img icon-back" onclick="onGoToMainPage();"></a>
                </div>
                <div class="header-subMenu menu-enable">
                    <a id="subMenu" class="icon-img icon-submenu" onclick="onFriendSubmenuOpen();"></a>
                </div>
                <div class="ui-li-dateinfo">Friday, 28th October 2013</div>
            </div>

            <div data-role="content">
                <div id="chatHistoryElementPlace"></div>
                <!--<ul data-role="listview" id="chatHistory">                        
                </ul>-->
                <div data-role="popup" id="popupMenu3"></div>
            </div>

            <div data-role="footer" data-position="fixed" data-theme="d">
                <div class="messageSendBox">
                    <div class="block-input-send"><input type="text" id="inputPrivateMessage" placeholder="send message"/></div>
                    <div class="block-button-send"><button onclick="commandSendPrivateMessage($('#inputPrivateMessage').val());"></button></div>
                </div>
            </div>
        </div>

        <!-----------------------------------------------------------------------------------------------------------------------------groupchat page------->
        <div data-role="page" id="groupChatPageTemplate" data-theme="d">
            <div data-role="header" data-position="fixed" data-theme="d">
                <div class="header-menu">
                    <ul>
                        <li class="menu-a menu-enable" onclick="showMenu(main_menu)"><span class="icon-img icon-menu"></span></li>
                        <li class="menu-b menu-enable" onclick=""><span class="icon-img icon-chat"></span></li>
                        <li class="menu-c menu-disable" onclick=""><span class="icon-img icon-box"></span></li>
                        <li class="menu-d menu-disable" onclick=""><span class="icon-img icon-logo"></span></li>
                    </ul>
                </div>
                <h1 id="groupChatPageT"></h1>  
                <div class="header-status menu-enable">
                    <a id="statusLinkMainPage" onclick="showMenu(status_menu)"  data-icon="CHAT_STATUS_AVAILABLE" class="ui-CHAT_STATUS_AVAILABLE" ></a>
                 </div>
                <div class="header-backBtn menu-enable">
                    <a id="groupChatBack" class="icon-img icon-back" onclick="onGoToMainPage();"></a>
                </div>
                <!--
                <div data-type="horizontal" data-role="controlgroup" class="ui-btn-right">
                    <a id="infoGroupChat" onclick="onOpenGroupMenu(getActiveGroupChat());"  href="" data-inline="true" data-transition="slide"></a>
                    <a id="statusLinkGroupChat"     href="#popupMenu3" data-rel="popup" data-inline="true" data-transition="slidedown" data-icon="CHAT_STATUS_AVAILABLE" class="ui-CHAT_STATUS_AVAILABLE"></a>
                </div>-->
            </div>

            <div data-role="content">
                <div id="groupHistoryElementPlace"></div>

                <!--<ul data-role="listview" id="groupChatHistory">                        
                </ul>-->
            </div>

            <div data-role="footer" data-position="fixed" data-theme="d">
                <div class="messageSendBox">
                    <div class="block-input-send"><input type="text" id="inputGroupMessage" placeholder="send message"/></div>
                    <div class="block-button-send"><button onclick="sendGroupMessage(getActiveGroupChat(), $('#inputGroupMessage').val());"></button></div>
                </div>
            </div>
        </div>

        <!-----------------------------------------------------------------------------------------------------------------------------groupchat menu------->
        <div data-role="page" id="groupMenuPageTemplate" data-theme="d">
            <div data-role="header" data-position="fixed" data-theme="d">
                <div class="header-menu">
                    <ul>
                        <li class="menu-a menu-enable" onclick="showMenu(main_menu)"><span class="icon-img icon-menu"></span></li>
                        <li class="menu-b menu-enable" onclick=""><span class="icon-img icon-chat"></span></li>
                        <li class="menu-c menu-disable" onclick=""><span class="icon-img icon-box"></span></li>
                        <li class="menu-d menu-disable" onclick=""><span class="icon-img icon-logo"></span></li>
                    </ul>
                </div>
                <h1 id="groupMenuPageT"></h1> 
                <div class="header-status menu-enable">
                    <a id="statusLinkMainPage" onclick="showMenu(status_menu)"  data-icon="CHAT_STATUS_AVAILABLE" class="ui-CHAT_STATUS_AVAILABLE" ></a>
                 </div>
                <div class="header-backBtn menu-enable">
                    <a id="groupMenuBack" class="icon-img icon-back" onclick="onGoToMainPage();"></a>
                </div>
            </div>

            <div data-role="content">
                <ul data-role="listview" id="groupMenuConnections">                        
                </ul>
                <div data-role="popup" id="popupMenuGMPT"></div>

                <div data-role="popup" id="popupGroupMenu" data-overlay-theme="a" data-theme="d" data-dismissible="false" style="max-width:400px;">
                    <div data-role="content" data-theme="d" class="ui-corner-bottom ui-content">
                        <p>This action cannot be undone.</p>
                        <a class="left_btn" href="#" data-role="button" data-inline="true" data-rel="back" data-theme="c">Cancel</a>
                        <a class="right_btn" onclick="test();" href="#" data-role="button" data-inline="true" data-theme="b">Delete</a>
                    </div>
                </div>
            </div>

            <div data-role="footer" data-position="fixed" data-theme="d">
                <a id="groupChatMenuBtn_manage" onclick="onGroupPopupMenu('manage');"  href=""  data-inline="true" data-transition="slide" data-corners="false">Manage connections</a>
                <a id="groupChatMenuBtn_rename" onclick="onGroupPopupMenu('rename');"  href=""  data-inline="true" data-transition="slide" data-corners="false">Rename group</a>
                <a id="groupChatMenuBtn_leave" onclick="onGroupPopupMenu('leave');"  href=""  data-inline="true" data-transition="slide" data-corners="false">Leave group</a>
                <a id="groupChatMenuBtn_close" onclick="onGroupPopupMenu('close');"  href=""  data-inline="true" data-transition="slide" data-corners="false">Close group</a>
            </div>
        </div>
        <!--------------------------------------------------------------------------------------------------------------------------------- page------->
        <div data-role="page" id="chatPage">
            <div data-role="header">
                <h1>Chat window</h1>  
                <button onclick="logout();">Logout</button>
            </div>

            <div data-role="content">
                <ul data-role="listview" id="messageArray" data-theme="e">
                    <li class="ui-li ui-li-static ui-btn-up-c">test :messafe</li>
                </ul>
                <p>
                    <input type="text" id="input"/>

                    <button onclick="openPrivateChat(8);">Open chat</button>
                    <button onclick="closePrivateChat(8);">Close chat</button>

                    <button onclick="openGroupChat('test G1');">Open group</button>
                    <button onclick="closeGroupChat(7551);">Close group 7551</button>
                    <button onclick="addUserToGroup(8, 4194);">Add user 8 to group 4194</button>

                    <button onclick="leaveConversation(3751);">Leave conver 3751</button>

                    <button onclick="sendGroupMessage(4194, 'test message from web to group');">send mess to 4194</button>


                </p>

            </div>
        </div>
        <div id="UDPopup">
            <div class="popup-screen-bg" onclick="hideMenu()"></div>
            <div class="popup-screen">
                <ul>
                </ul>
            </div>
        </div>
    </body>
</html>